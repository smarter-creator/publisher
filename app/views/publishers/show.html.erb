<div class="container mt-4">
  <h1><%= @publisher.title %></h1>
  <p><%= @publisher.description %></p>

  <h3>Events by this Publisher</h3>
  <table class="table table-bordered table-striped">
    <thead class="table-dark">
      <tr>
        <th>Title</th>
        <th>Start Time</th>
        <th>End Time</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <% @publisher.events.each do |event| %>
        <tr>
          <td><%= link_to event.title, publisher_event_path(event.publisher_id, event) %></td>
          <td><%= event.start_datetime %></td>
          <td><%= event.end_datetime %></td>
          <td class="d-flex" style="gap: 1rem;">
            <a href="<%= edit_publisher_event_path(event.publisher_id, event) %>" class="btn btn-sm btn-warning">Edit</a>
            <%= button_to "Delete", event, 
            method: :delete, 
            data: { confirm: "Are you sure?" }, 
            class: "btn btn-danger btn-sm" %>      
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>

  <div class="mt-3">
    <%= link_to "New Event for this Publisher", new_publisher_event_path(@publisher), class: "btn btn-primary" %>
    <%= link_to "Edit Publisher", edit_publisher_path(@publisher), class: "btn btn-warning" %>
    <%= link_to "Back to Publishers", publishers_path, class: "btn btn-secondary" %>
  </div>
</div>
